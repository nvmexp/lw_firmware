// This file is automatically generated by chip-config - DO NOT EDIT!
//
// FUB app generated #defines such as IsG84(),
// FUBCFG_FEATURE_ENABLED_STATUS(), etc.
//
// Only for use within fub applications.
//
// Profile:  {{$PROFILE}}
// Template: {{$TEMPLATE_FILE}}
//
// Chips:    {{ CHIP_LIST() }}
//

#ifndef G_{{$XXCFG}}_PRIVATE_H
#define G_{{$XXCFG}}_PRIVATE_H

//
// Macros to help with enabling or disabling code based on whether
// a feature (or chip or engine or ...) is enabled or not.
// Also have FUBCFG_CHIP_ENABLED(), FUBCFG_FEATURE_ENABLED(), etc
// from {{$XXCONFIG_H_FILE}}.
//
// NOTE: these definitions are "flat" (ie they don't use some more general
//       FUBCFG_ENABLED(CHIP,X) form because the pre-processor would re-evaluate
//       the expansion of the item (gpu, feature, class, api).  For classes,
//       at least, this is a problem since we would end up with class number
//       instead of its name...

// hack: MSVC is not C99 compliant
#ifdef LW_WINDOWS
#define __func__ __FUNCTION__
#endif

// GPU's
#define FUBCFG_CHIP_ENABLED_STATUS(W)   (FUBCFG_CHIP_##W ? {{$STATUS_OK}} : {{$STATUS_ERROR}})
#define FUBCFG_GPU_ENABLED_OR_BAIL(W)                \
     do {                                           \
         if ( ! FUBCFG_CHIP_##W)                      \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: CHIP " #W " not enabled, bailing\n", __func__)); \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_CHIP_ENABLED_OR_ASSERT_AND_BAIL(W)     \
     do {                                           \
         if ( ! FUBCFG_CHIP_##W)                      \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: CHIP " #W " not enabled, assert and bail\n", __func__)); \
             {{$ASSERT}}(FUBCFG_CHIP_##W);                        \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_CHIP_ENABLED_OR_GOTO(W,L)  \
    do {                                 \
        if (! FUBCFG_CHIP_##W)            \
        {                                \
            goto L;                      \
        }                                \
    } while (LW_FALSE)
#define FUBCFG_CHIP_ENABLED_OR_BREAK(W)   \
    {                                    \
        if (! FUBCFG_CHIP_##W)            \
        {                                \
            break;                       \
        }                                \
    }

// FEATURE's
#define FUBCFG_FEATURE_ENABLED_STATUS(W)   (FUBCFG_FEATURE_##W ? {{$STATUS_OK}} : {{$STATUS_ERROR}})
#define FUBCFG_FEATURE_ENABLED_OR_BAIL(W)            \
     do {                                           \
         if ( ! FUBCFG_FEATURE_##W)                  \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: FEATURE " #W " not enabled, bailing\n", __func__)); \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_FEATURE_ENABLED_OR_ASSERT_AND_BAIL(W) \
     do {                                           \
         if ( ! FUBCFG_FEATURE_##W)                  \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: FEATURE " #W " not enabled, assert and bail\n", __func__)); \
             {{$ASSERT}}(FUBCFG_FEATURE_##W);          \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_FEATURE_ENABLED_OR_GOTO(W,L)  \
    do {                                     \
        if (! FUBCFG_FEATURE_##W)            \
        {                                    \
            goto L;                          \
        }                                    \
    } while (LW_FALSE)
#define FUBCFG_FEATURE_ENABLED_OR_BREAK(W)   \
    {                                        \
        if (! FUBCFG_FEATURE_##W)            \
        {                                    \
            break;                           \
        }                                    \
    }

// ENGINE's
#define FUBCFG_ENGINE_ENABLED_STATUS(W)   (FUBCFG_ENGINE_##W ? {{$STATUS_OK}} : {{$STATUS_ERROR}})
#define FUBCFG_ENGINE_ENABLED_OR_BAIL(W)             \
     do {                                           \
         if ( ! FUBCFG_ENGINE_##W)                   \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: ENGINE " #W " not enabled, bailing\n", __func__)); \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_ENGINE_ENABLED_OR_ASSERT_AND_BAIL(W)  \
     do {                                           \
         if ( ! FUBCFG_ENGINE_##W)                   \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: ENGINE " #W " not enabled, assert and bail\n", __func__)); \
             {{$ASSERT}}(FUBCFG_ENGINE_##W);           \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_ENGINE_ENABLED_OR_GOTO(W,L)  \
    do {                                    \
        if (! FUBCFG_ENGINE_##W)            \
        {                                   \
            goto L;                         \
        }                                   \
    } while (LW_FALSE)
#define FUBCFG_ENGINE_ENABLED_OR_BREAK(W)   \
    {                                       \
        if (! FUBCFG_ENGINE_##W)            \
        {                                   \
            break;                          \
        }                                   \
    }

// CLASS's
#define FUBCFG_CLASS_ENABLED_STATUS(W)   (FUBCFG_CLASS_##W ? {{$STATUS_OK}} : {{$STATUS_ERROR}})
#define FUBCFG_CLASS_ENABLED_OR_BAIL(W)              \
     do {                                           \
         if ( ! FUBCFG_CLASS_##W)                    \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: CLASS " #W " not enabled, bailing\n", __func__)); \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_CLASS_ENABLED_OR_ASSERT_AND_BAIL(W)   \
     do {                                           \
         if ( ! FUBCFG_CLASS_##W)                    \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: CLASS " #W " not enabled, assert and bail\n", __func__)); \
             {{$ASSERT}}(FUBCFG_CLASS_##W);            \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_CLASS_ENABLED_OR_GOTO(W,L)  \
    do {                                   \
        if (! FUBCFG_CLASS_##W)            \
        {                                  \
            goto L;                        \
        }                                  \
    } while (LW_FALSE)
#define FUBCFG_CLASS_ENABLED_OR_BREAK(W)   \
    {                                      \
        if (! FUBCFG_CLASS_##W)            \
        {                                  \
            break;                         \
        }                                  \
    }

// API's
#define FUBCFG_API_ENABLED_STATUS(W)   (FUBCFG_API_##W ? {{$STATUS_OK}} : {{$STATUS_ERROR}})
#define FUBCFG_API_ENABLED_OR_BAIL(W)                \
     do {                                           \
         if ( ! FUBCFG_API_##W)                      \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: API " #W " not enabled, bailing\n", __func__)); \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_API_ENABLED_OR_ASSERT_AND_BAIL(W)     \
     do {                                           \
         if ( ! FUBCFG_API_##W)                      \
         {                                          \
             DBG_PRINTF((DBG_MODULE_GLOBAL, DBG_LEVEL_ERRORS, "FUB: %s: API " #W " not enabled, assert and bail\n", __func__)); \
             {{$ASSERT}}(FUBCFG_API_##W);              \
             return {{$STATUS_ERROR}};           \
         }                                          \
     } while (LW_FALSE)
#define FUBCFG_API_ENABLED_OR_GOTO(W,L)  \
    do {                                 \
        if (! FUBCFG_API_##W)            \
        {                                \
            goto L;                      \
        }                                \
    } while (LW_FALSE)
#define FUBCFG_API_ENABLED_OR_BREAK(W)   \
    {                                    \
        if (! FUBCFG_API_##W)            \
        {                                \
            break;                       \
        }                                \
    }

#endif  // G_{{$XXCFG}}_PRIVATE_H
