Loading boot image.
SK-Model: SeparationKernelEntrypointSet(1, 60600000000020f4)
SK-Model: SeparationKernelPmpMap(local-id:0, target-partition:1, target-id:0, target-access:7, 6060000000000000-6060000040000000)
SK-Model: 7 0-ffffffffffffffff
SK-Model: SeparationKernelPmpMap(local-id:0, target-partition:1, target-id:1, target-access:7, 0-20000000)
SK-Model: 7 0-ffffffffffffffff
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2000000000000000, 0, 0, 0, 0)
LWOS-Root: LwosRootInitialize()
SK-Model: SeparationKernelPartitionSwitch target:0 entry:6060000000000000 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2100000000000000, 6060000000000000, 40000000, 7, 0)
LWOS-Root: LwosRootAdvisePmp(index:0 base:6060000000000000 size:0000000040000000 pmpAccess:7)LWOS-Root: -> status:0
SK-Model: SeparationKernelPartitionSwitch target:0 entry:6060000000000000 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2100000000000001, 0, 20000000, 7, 0)
LWOS-Root: LwosRootAdvisePmp(index:1 base:0000000000000000 size:0000000020000000 pmpAccess:7)LWOS-Root: -> status:0
SK-Model: SeparationKernelPartitionSwitch target:0 entry:6060000000000000 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2200000000000000, 6060000000200000, 40000000, ffffffffffffffff, 0)
LWOS-Root: LwosRootMemoryOnline(node:0 base:6060000000200000 size:0000000040000000 partitionMask:ffffffffffffffff)LWOS-Root: -> status:0
SK-Model: SeparationKernelPartitionSwitch target:0 entry:6060000000000000 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2400000000000002, 0, 20000000, 7, 0)
LWOS-Root: LwosRootPartitionMapPhysical(partition:2 base:0000000000000000 size:0000000020000000 accessMode:7)SK-Model: SeparationKernelPmpMap(local-id:1, target-partition:2, target-id:0, target-access:7, 0-20000000)
SK-Model: 7 0-20000000
LWOS-Root: status:0
SK-Model: SeparationKernelPartitionSwitch target:0 entry:6060000000000000 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2300000000000002, 8000000, 8000000, 7, 0)
LWOS-Root: LwosRootMemoryAllocate(partition:2 size:0000000008000000 alignment:0000000008000000 accessMode:7)SK-Model: SeparationKernelPmpMap(local-id:0, target-partition:2, target-id:1, target-access:7, 6060000008000000-6060000010000000)
SK-Model: 7 6060000000000000-6060000040000000
LWOS-Root: status:0 address:6060000008000000
SK-Model: SeparationKernelPartitionSwitch target:0 entry:6060000000000000 args:(1000000000000000, 6060000008000000, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2500000000000002, 6060000000011000, 6060000008000000, 8000000, ffffffff)
LWOS-Root: LwosRootPartitionInit(partition:2 image:6060000000011000 numaBegin:6060000008000000 memorySize:0000000008000000 globalPort:ffffffff)SK-Model: SeparationKernelPmpMap(local-id:0, target-partition:2, target-id:2, target-access:7, 606000000000c000-6060000000010000)
SK-Model: 7 6060000000000000-6060000040000000
SK-Model: SeparationKernelEntrypointSet(2, 6060000000010508)
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(6060000008001000, 7fff000, 6060000000011000, 2, ffffffff)
Libos: Construct NUMA page state tables.
Libos: NUMA memory node registered 6060000008013000-6060000010000000
Libos: Setting resume task.
Libos: Mounted root filesystem PA=6060000000011000
Libos: Mounted file libos-kernel.elf
Libos: Mounted file init.elf
Libos: Mounted file worker.elf
Libos: Loader mapping init.elf:10000 into asid=8000000008114088.
Libos: Loader mapping init.elf:12000 into asid=8000000008114088.
Libos: Task spawned
Libos: Task spawned
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2600000000000000, 6060000000013000, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:0 entry:6060000000000000 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(3100000000000000, 0, 0, 0, 0)
Kernel daemon started.
Partition 2 has reached init.
This is the first libos partition.
Created address space: d
Libos: Loader mapping worker.elf:10000 into asid=80000000081140e0.
Libos: Loader mapping worker.elf:11000 into asid=80000000081140e0.
Libos: Task spawned
Child task created 10.
Sending port handles to child task.
Worker task alive 0 2 12 3 13 3 0 0.
Worker task exiting.
Child task exited normally.
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2400000000000003, 0, 20000000, 7, 0)
LWOS-Root: LwosRootPartitionMapPhysical(partition:3 base:0000000000000000 size:0000000020000000 accessMode:7)SK-Model: SeparationKernelPmpMap(local-id:1, target-partition:3, target-id:0, target-access:7, 0-20000000)
SK-Model: 7 0-20000000
LWOS-Root: status:0
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2300000000000003, 8000000, 8000000, 7, 0)
LWOS-Root: LwosRootMemoryAllocate(partition:3 size:0000000008000000 alignment:0000000008000000 accessMode:7)SK-Model: SeparationKernelPmpMap(local-id:0, target-partition:3, target-id:1, target-access:7, 6060000018000000-6060000020000000)
SK-Model: 7 6060000000000000-6060000040000000
LWOS-Root: status:0 address:6060000018000000
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 6060000018000000, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2700000000000000, 0, 0, 0, 0)
LWOS-Root: LwosRootGlobalPortAllocate()LWOS-Root: status:0 port:02000000
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 2000000, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2800000002000000, 3, 2, 0, 0)
LWOS-Root: LwosRootGlobalPortGrant(port:02000000 partition:3 mask:0000000000000002)LWOS-Root: status:0
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2500000000000003, 6060000000011000, 6060000018000000, 8000000, 2000000)
LWOS-Root: LwosRootPartitionInit(partition:3 image:6060000000011000 numaBegin:6060000018000000 memorySize:0000000008000000 globalPort:02000000)SK-Model: SeparationKernelPmpMap(local-id:0, target-partition:3, target-id:2, target-access:7, 606000000000c000-6060000000010000)
SK-Model: 7 6060000000000000-6060000040000000
SK-Model: SeparationKernelEntrypointSet(3, 60600000000106c8)
SK-Model: SeparationKernelPartitionSwitch target:3 entry:60600000000106c8 args:(6060000018001000, 7fff000, 6060000000011000, 3, 2000000)
Libos: Construct NUMA page state tables.
Libos: NUMA memory node registered 6060000018013000-6060000020000000
Libos: Setting resume task.
Libos: Mounted root filesystem PA=6060000000011000
Libos: Mounted file libos-kernel.elf
Libos: Mounted file init.elf
Libos: Mounted file worker.elf
Libos: Loader mapping init.elf:10000 into asid=8000000018114088.
Libos: Loader mapping init.elf:12000 into asid=8000000018114088.
Libos: Task spawned
Libos: Task spawned
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2600000000000000, 6060000000013000, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 0, 0, 0, 0)
Successfully spawned partition 3, handle 19.
PPP1
PPP2
SK-Model: SeparationKernelPartitionSwitch target:3 entry:60600000000106c8 args:(3100000000000000, 0, 0, 0, 0)
Kernel daemon started.
Partition 3 has reached init.
We are a chld of another partition. Parent port: 12.
Created address space: e
Libos: Loader mapping worker.elf:10000 into asid=80000000181140e0.
Libos: Loader mapping worker.elf:11000 into asid=80000000181140e0.
Libos: Task spawned
Child task created 11.
Sending port handles to child task.
Worker task alive 0 2 12 3 13 3 0 0.
Worker task exiting.
Child task exited normally.
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(3200000000000000, 2000000, 30, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2700000000000000, 0, 0, 0, 0)
LWOS-Root: LwosRootGlobalPortAllocate()LWOS-Root: status:0 port:02000001
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 2000001, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2800000002000001, 3, 3, 0, 0)
LWOS-Root: LwosRootGlobalPortGrant(port:02000001 partition:3 mask:0000000000000003)LWOS-Root: status:0
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2700000000000000, 0, 0, 0, 0)
LWOS-Root: LwosRootGlobalPortAllocate()LWOS-Root: status:0 port:02000002
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 2000002, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2800000002000002, 3, 3, 0, 0)
LWOS-Root: LwosRootGlobalPortGrant(port:02000002 partition:3 mask:0000000000000003)LWOS-Root: status:0
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:3 entry:60600000000106c8 args:(1000000000000000, 0, 0, 0, 0)
Child partition received init message from parent: 21 20
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(3100000000000000, 0, 0, 0, 0)
PPP3
SK-Model: SeparationKernelPartitionSwitch target:3 entry:60600000000106c8 args:(3300000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(1000000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:3 entry:60600000000106c8 args:(3100000000000000, 0, 0, 0, 0)
Child partition received greeting from parent: Hello from the parent partition.

SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(3300000000000000, 0, 0, 0, 0)
SK-Model: SeparationKernelPartitionSwitch target:3 entry:60600000000106c8 args:(1000000000000000, 0, 0, 0, 0)
Child: transparent messaging test passed!
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2900000000000000, 0, 0, 0, 0)
LWOS-Root: LwosRootPartitionExit()
LWOS-Root: Releasing memory for partition 3: 6060000018000000-6060000020000000
SK-Model: SeparationKernelPartitionSwitch target:2 entry:6060000000010508 args:(3100000000000000, 0, 0, 0, 0)
Child partition has replied to our greeting: Yas! Transparent messaging works!
Parent: transparent messaging test passed!
SK-Model: SeparationKernelPartitionSwitch target:1 entry:60600000000020f4 args:(2900000000000000, 0, 0, 0, 0)
LWOS-Root: LwosRootPartitionExit()
LWOS-Root: Releasing memory for partition 2: 6060000008000000-6060000010000000
LWOS-Root: No partition to schedule, shutting down...
Test terminated.
